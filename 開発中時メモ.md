# ptwitter開発
制作はローカルサーバーだけとする
ptwitterとはプログラマー用に改良されたツイッター
railsチュートリアルをベースに改良する
実際にツイッターではマークダウンが使えず画像のみで対応しようとするプログラマーツイッター民がそこそこいたのでツイッターにマークダウン を入れることによって解決できるのか知りたいがために作る

# 最優先事項
わからないなりにとりあえず動くものを作ってみる
testやリファクタリングは今回ではあまり行わない予定

# todo
* 返信機能
* リツイート
* マイクロポストにコンテキストが入っていなかったらhomeに遷移させるバグを直す
* メッセージ機能

# 今回はスルーするもの
* 画像の容量制限の完璧さ
* サービス公開
* 応答のはやさ
* テスト
* マイプロフィール画像
* 細かい仕様

#  railsチュートリアルから抜け落ちたもの
herokuでの公開
Gravatar


# railsチュートリアルから改良できた点
* エラー内容を日本語化
* デザイン変更(細かい範囲で主軸は変わらない)
* ホーム画面のマイページとユーザー一覧から飛べる自分のプロフィール画面は統一した
* 複数の画像をアップロードする
* 投稿記事が消されると投稿記事にアップロードした画像もサーバーから削除される
* ユーザーが消えると同時にアップロードした画像も消える



# 改良できた点の詳しい解説
* エラー内容を日本語化
  * 問題点
    modelのバリデーションエラーは英語なので日本ユーザーにとってわかりにくい
  * 改善の仕方
    modelのカラム以外の部分はconfigで日本語化する
    modelのカラムは`rails-i18n`gemを使用してカラムを手動で和訳してymlファイルに書き込み呼び出しする


* ホーム画面のマイページとユーザー一覧から飛べる自分のプロフィール画面は統一した
  * 問題点
    ログイン中のホーム画面はユーザー表示は同じデザインなのにもかかわらずログイン中のホーム画面で使用できたマイクロポストの作成ができないこと
  * 改善の仕方
    ホーム画面ボタンにログイン中ならユーザー表示を、ログインしてなければホーム画面を表示させるように分岐させる


# 改悪してしまったこと
*  使用しているgemをプロジェクトに内包した
  * 経緯
    bundle installをする場合は`--path vendor/bundle`をすることがセオリーだという記事があったのでメリットデメリットを調べた上でセオリーと主張する人がいるぐらいなのだから利点も大きいのでは無いかと確認と経験として使用してみることにした
    参考記事:[bundle install時に--path vendor/bundleを付ける必要性は本当にあるのか、もう一度よく考えてみよう](https://qiita.com/jnchito/items/99b1dbea1767a5095d85#201967%E8%BF%BD%E8%A8%98-%E9%80%86%E3%81%ABpath%E3%82%92%E4%BB%98%E3%81%91%E3%81%AA%E3%81%84%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88%E3%81%A3%E3%81%A6%E4%BD%95%E3%81%8B%E3%81%82%E3%82%8B%E3%81%AE)
  * 使用感想
    ローカルでの開発だったのでサーバーに直接bundleが必要になったわけではなかったので以前開発していた通り特に変わりはなかったがgemの追加や更新をすると大量のファイルが作成または変更されるのでgitでコミットするのに2分割でコミットしなければならないことがあった手間取った。これはコミットできる最大ファイル数が140だからである
  * 学べたこと
    コミットの上限数
    サーバーなどでgemを管理したいならば一つ一つのgemの変更事にコミットするべき
    基本的にはプロジェクト事にbundleをインストールしてgemを管理してもメリットがほぼ無い

# 現在わからないこと
* なぜ入力した内容をエスケープするとクロスサイトスクリプティングの対策になるのか？
* masterに間違ってコミットし続けてしまった時の処理
* コミットの適切な区切り方
* 共通メソッドを作りたい時applicationのコントローラーにおくかヘルパーにおくか悩む

# 開発のやり方で改良したいこと
gitでマージするときにどのような内容をマージしたのかメモしたい（チケット管理がいいのかな？)
